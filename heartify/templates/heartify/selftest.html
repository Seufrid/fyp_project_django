<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Selftest</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link rel="icon" href="{% static 'heartify/img/favicon.ico' %}">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Animation Libraries Stylesheet -->
    <link href="{% static 'heartify/lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'heartify/lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
    <link href="{% static 'heartify/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css' %}" rel="stylesheet" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.5.1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.5.1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Chart JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.2"></script>

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'heartify/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'heartify/css/style.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0 wow fadeIn" data-wow-delay="0.1s">
        <a href="{% url 'home' %}" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <h1 class="m-0 text-primary" ><i class="far fa-heart me-3"></i><span style="font-family: 'Roboto', sans-serif;"><strong>Heartify</strong></span></h1>
        </a>
        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="{% url 'home' %}" class="nav-item nav-link">Home</a>
                <a href="{% url 'about' %}" class="nav-item nav-link">About</a>
                <a href="{% url 'contact' %}" class="nav-item nav-link">Contact</a>
                <a href="{% url 'selftest' %}" class="nav-item nav-link active">Selftest</a>
            </div>
            <div>
                <a href="{% url 'appointment' %}" class="btn btn-primary rounded-0 w-100 py-4 px-lg-5">Appointment<i class="fa fa-arrow-right ms-3"></i></a>
            </div>
        </div>
    </nav>
    <!-- Navbar End -->

    <!-- Page Header Start -->
    <div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <h1 class="display-3 text-white mb-3 animated slideInDown">Selftest</h1>
            <nav aria-label="breadcrumb animated slideInDown">
                <ol class="breadcrumb text-uppercase mb-0">
                    <li class="breadcrumb-item"><a class="text-white" href="{% url 'home' %}">Home</a></li>
                    <li class="breadcrumb-item text-primary active" aria-current="page">Selftest</li>
                </ol>
            </nav>
        </div>
    </div>
    <!-- Page Header End -->

    <!-- Selftest Form Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                    <div class="bg-light rounded p-5">
                        <p class="d-inline-block border rounded-pill py-1 px-4">Selftest</p>
                        <h1 class="mb-4">Selftest</h1>
                        <p class="mb-4" style="text-align: justify;">Heart failure is a serious condition where the heart is unable to pump blood effectively, which can lead to various health complications. By answering the questions in this form, you will gain insights into your heart failure risk and receive a percentage change based on your responses. Remember that this self-test is not a substitute for professional medical advice, diagnosis, or treatment. If you have concerns about your heart health, consult with a healthcare provider for a comprehensive evaluation. A copy will be sent to your email!</p>
                        <form id="myForm" data-url="{% url 'selftest' %}">
                            {% csrf_token %}
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="name" name="name" placeholder="Your Name"required>
                                        <label for="name">Your Name</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="email" class="form-control" id="email" name="email" placeholder="Your Email" required>
                                        <label for="email">Your Email</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="Age" name="Age" placeholder="Your Age" min="1" max="120" required>
                                        <label for="Age">Your Age</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-select border-0" style="height: 55px;" id="Age" name="Sex" required>
                                        <option value="" disabled selected>Choose Sex</option>
                                        <option value="1">Male</option>
                                        <option value="0">Female</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-select border-0" style="height: 55px;" id="ChestPainType" name="ChestPainType" required>
                                        <option value="" disabled selected>Choose ChestPainType</option>
                                        <option value="2">ASY</option>
                                        <option value="1">NAP</option>
                                        <option value="0">ATA</option>
                                        <option value="3">TA</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="RestingBP" name="RestingBP" placeholder="Your RestingBP" min="0" max="250" required>
                                        <label for="RestingBP">Your RestingBP</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="Cholesterol" name="Cholesterol" placeholder="Your Cholesterol" min="1" max="1000" required>
                                        <label for="Cholesterol">Your Cholesterol</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-select border-0" style="height: 55px;" id="FastingBS" name="FastingBS" required>
                                        <option value="" disabled selected>Choose FastingBS</option>
                                        <option value="1">1</option>
                                        <option value="0">0</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-select border-0" style="height: 55px;" id="RestingECG" name="RestingECG" required>
                                        <option value="" disabled selected>Choose RestingECG</option>
                                        <option value="0">Normal</option>
                                        <option value="2">LVH</option>
                                        <option value="1">ST</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="MaxHR" name="MaxHR" placeholder="Your MaxHR" min="1" max="200" required>
                                        <label for="MaxHR">Your MaxHR</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-select border-0" style="height: 55px;" id="ExerciseAngina" name="ExerciseAngina" required>
                                        <option value="" disabled selected>Choose ExerciseAngina</option>
                                        <option value="1">Yes</option>
                                        <option value="0">No</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="Oldpeak" name="Oldpeak" placeholder="Your Oldpeak" min="-10" max="10" required>
                                        <label for="MaxHR">Your Oldpeak</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <select class="form-select border-0" style="height: 55px;" id="STSlope" name="STSlope" required>
                                        <option value="" disabled selected>Choose STSlope</option>
                                        <option value="1">Flat</option>
                                        <option value="0">Up</option>
                                        <option value="2">Down</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-floating">
                                        <textarea class="form-control border-0" id="result" placeholder="Your Results" style="resize: none;" disabled></textarea>
                                        <label for="result">Your Results</label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button class="btn btn-primary w-100 py-3" type="submit">Send Message</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                    <div class="h-100" style="min-height: 400px;">
                        <img class="rounded img-fluid" src="{% static 'heartify/img/8test1.jpg' %}" alt="namw" style="height: 100%;">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Selftest Form End -->

    <!-- Loading Modal -->
    <div class="modal fade" id="loadingModal" tabindex="-1" role="dialog" aria-labelledby="loadingModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <p>Loading...</p>
                    <div class="spinner-border" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Loading Modal End -->

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-labelledby="successModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="successModalLabel">Success</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeSuccessModal()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p style="color: green;">Self-test information submitted successfully!</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Success Modal End -->

    <!-- Error Modal -->
    <div class="modal fade" id="errorModal" tabindex="-1" role="dialog" aria-labelledby="errorModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="errorModalLabel">Error</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="closeErrorModal()">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p style="color: red;">Failed to submit self-test form. Please check the form and try again.</p>
                </div>
            </div>
        </div>
    </div>
    <!-- Error Modal End -->

    <!-- Progress Bar Start -->
    <div id="progressBarContainer" class="container-xxl py-5" style="display:none;">
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.05s" style="max-width: 600px;">
            <p class="d-inline-block border rounded-pill py-1 px-4">Chart</p>
            <h1>Risk Bar</h1>
        </div>
        <div class="container">
            <canvas id="progressBarChart" width="400" height="100"></canvas> <!-- Adjust width and height as needed -->
        </div>
    </div>
    <!-- Progress Bar End -->

    <!-- Comparison Chart Start -->
    <div id="comparisonChartContainer" class="container-xxl py-5" style="display:none;">
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.05s" style="max-width: 600px;">
            <p class="d-inline-block border rounded-pill py-1 px-4">Chart</p>
            <h1>Input Comparison</h1>
        </div>
        <canvas id="myComparisonChart" width="100" height="20"></canvas>
    </div>
    <!-- Comparison Chart End -->
    
    <!-- Feature Chart Start -->
    <div id="featureImportanceChartContainer" class="container-xxl py-5" style="display:none;">
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.05s" style="max-width: 600px;">
            <p class="d-inline-block border rounded-pill py-1 px-4">Chart</p>
            <h1>Feature Importance</h1>
        </div>
        <div class="container">
            <canvas id="featureImportanceChart" width="400" height="500"></canvas>
        </div>
    </div>
    <!-- Feature Chart End -->

    <!-- Scatter Chart Start -->
    <div id="scatterChartContainer" class="container-xxl py-5" style="display:none;">
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.05s" style="max-width: 600px;">
            <p class="d-inline-block border rounded-pill py-1 px-4">Chart</p>
            <h1>Scatter Plot</h1>
        </div>
        <div class="container">
            <canvas id="scatterChart" width="400" height="200"></canvas>
        </div>
    </div>
    <!-- Scatter Chart End -->

    <!-- Feature Start -->
    <div class="container-fluid bg-primary overflow-hidden my-5 px-lg-0">
        <div class="container feature px-lg-0">
            <div class="row g-0 mx-lg-0">
                <div class="col-lg-6 pe-lg-0 wow fadeIn" data-wow-delay="0.5s" style="min-height: 400px;">
                    <div class="position-relative h-100">
                        <img class="position-absolute img-fluid w-100 h-100" src="{% static 'heartify/img/selftest2.jpg' %}" style="object-fit: cover;" alt="">
                    </div>
                </div>
                <div class="col-lg-6 feature-text py-5 wow fadeIn" data-wow-delay="0.1s">
                    <div class="p-lg-5 ps-lg-0">
                        <p class="d-inline-block border rounded-pill text-light py-1 px-4">Results</p>
                        <h1 class="text-white mb-4">What Do The Results Mean?</h1>
                        <p class="text-white mb-4 pb-2" style="text-align: justify;">Thank you for taking the time to complete our self-test for heart failure risk assessment. Based on the information you provided, we have analyzed the variables and identified their influence on the chance of heart failure. You can see how important each feature is in chart 3 ranked from highest to lowest. Here is each variable explained, in the order of variables that affect heart failure chance, from highest affect to the least:</p>
                        <li class="text-white mb-4">ST Slope: Consult with your healthcare provider to understand and address any issues related to ST slope abnormalities.</li>
                        <li class="text-white mb-4">Sex: Some risk factors may vary between genders, so ensure you are aware of any gender-specific considerations and discuss them with your healthcare provider.</li>
                        <li class="text-white mb-4">Fasting Blood Sugar (FastingBS): Control blood sugar levels through diet, exercise, and, if necessary, medications as advised by your healthcare provider.</li>
                        <li class="text-white mb-4">Chest Pain Type: Seek medical advice to manage and treat chest pain symptoms appropriately.</li>
                        <li class="text-white mb-4">Cholesterol: Adopt a heart-healthy diet, low in saturated fats and cholesterol, and consider medications if prescribed by your doctor.</li>
                        <li class="text-white mb-4">Exercise Angina: Work with your healthcare provider to manage and control angina symptoms during exercise.</li>
                        <li class="text-white mb-4">Oldpeak: Engage in regular exercise and maintain a healthy lifestyle to improve your exercise capacity and reduce the risk associated with ST depression during exercise.</li>
                        <li class="text-white mb-4">MaxHR: Engage in regular aerobic exercise to improve your maximum heart rate and cardiovascular fitness.</li>
                        <li class="text-white mb-4">Resting Blood Pressure (RestingBP): Maintain a healthy blood pressure through lifestyle changes, including a balanced diet, regular exercise, and stress management.</li>
                        <li class="text-white mb-4">Age: While age is a non-modifiable factor, adopting a healthy lifestyle becomes increasingly important as you age.</li>
                        <li class="text-white mb-4">Resting ECG: Follow up with your healthcare provider for any abnormal electrocardiogram findings.</li>
                        <p class="text-white mb-4 pb-2" style="text-align: justify;">Keep in mind that a chance of below 10 means you are in good health, between 10-50 indicates the need to take action to reduce it, and above 50 strongly suggests consulting with a doctor for further evaluation. Remember, it's essential to consult with your healthcare provider before making any significant lifestyle changes or starting new medications. They can provide personalized guidance based on your individual health profile. You can book an appointment today at our appointment page! And as bonus, in the second chart you can see how your inputs compare against individuals with and without heart failure.</p>
                        <div class="row g-4">
                            <div class="col-6">
                                <div class="d-flex align-items-center">
                                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-light" style="width: 55px; height: 55px;">
                                        <i class="fas fa-hospital-user text-primary"></i>
                                    </div>
                                    <div class="ms-4">
                                        <p class="text-white mb-2">Always Consult</p>
                                        <h5 class="text-white mb-0">Health Professionals</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="d-flex align-items-center">
                                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-light" style="width: 55px; height: 55px;">
                                        <i class="fas fa-sort-amount-up text-primary"></i>
                                    </div>
                                    <div class="ms-4">
                                        <p class="text-white mb-2">Prioritize</p>
                                        <h5 class="text-white mb-0">ST Slope</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="d-flex align-items-center">
                                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-light" style="width: 55px; height: 55px;">
                                        <i class="fas fa-running text-primary"></i>
                                    </div>
                                    <div class="ms-4">
                                        <p class="text-white mb-2">Manage</p>
                                        <h5 class="text-white mb-0">Oldpeak Effectively</h5>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="d-flex align-items-center">
                                    <div class="d-flex flex-shrink-0 align-items-center justify-content-center rounded-circle bg-light" style="width: 55px; height: 55px;">
                                        <i class="fas fa-heart text-primary"></i>
                                    </div>
                                    <div class="ms-4">
                                        <p class="text-white mb-2">Address</p>
                                        <h5 class="text-white mb-0">Cholesterol Levels</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    <!-- Feature End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-light footer mt-5 pt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-6 col-md-6">
                    <h5 class="text-light mb-4">Address</h5>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Heartify, IIUM, Jalan Imam Malik, 53100, Selangor</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+601 1645 43572</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>heartifycontact@gmail.com</p>
                    <div class="d-flex pt-2">
                        <a class="btn btn-outline-light btn-social rounded-circle" href="https://twitter.com" target=”_blank”><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social rounded-circle" href="https://www.facebook.com/" target=”_blank”><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social rounded-circle" href="https://www.youtube.com/" target=”_blank”><i class="fab fa-youtube"></i></a>
                        <a class="btn btn-outline-light btn-social rounded-circle" href="https://www.linkedin.com/" target=”_blank”><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <h5 class="text-light mb-4">Services</h5>
                    <a class="btn btn-link" href="{% url 'about' %}">Cardiology</a>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="text-light mb-4">Quick Links</h5>
                    <a class="btn btn-link" href="{% url 'about' %}">About Us</a>
                    <a class="btn btn-link" href="{% url 'contact' %}">Contact Us</a>
                    <a class="btn btn-link" href="{% url 'selftest' %}">Selftest</a>
                    <a class="btn btn-link" href="{% url 'appointment' %}">Appointment</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top Button Start -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square rounded-circle back-to-top"><i class="bi bi-arrow-up"></i></a>
    <!-- Back to Top Button End -->

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'heartify/lib/wow/wow.min.js' %}"></script>
    <script src="{% static 'heartify/lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'heartify/lib/waypoints/waypoints.min.js' %}"></script>
    <script src="{% static 'heartify/lib/counterup/counterup.min.js' %}"></script>
    <script src="{% static 'heartify/lib/owlcarousel/owl.carousel.min.js' %}"></script>
    <script src="{% static 'heartify/lib/tempusdominus/js/moment.min.js' %}"></script>
    <script src="{% static 'heartify/lib/tempusdominus/js/moment-timezone.min.js' %}"></script>
    <script src="{% static 'heartify/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js' %}"></script>

    <!-- Contact Popup Javascript -->
    <script src="{% static 'heartify/js/selftest-popup.js' %}"></script>
    <!-- Selftest Javascript -->
    <script src="{% static 'heartify/js/selftest.js' %}"></script>
    <!-- Page Javascript -->
    <script src="{% static 'heartify/js/page.js' %}"></script>
    <!-- Template Javascript -->
    <script src="{% static 'heartify/js/main.js' %}"></script>
</body>
</html>